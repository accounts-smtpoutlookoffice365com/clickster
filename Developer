
Developer Forums
Search by keywords or tagsSubmit Search
Additional information about Search by keywords or tags
Ask
Profile
User Avatar for: Developer Forums User 
After converting a Web Extension using safari-web-extension-converter, running extension fails with SFErrorDomain code 1
Watch question
I have a web extension https://github.com/david-shortman/clickster

In the directory for that extension, I ran
Code Block 
david@Davids-Mac-mini clickster % xcrun safari-web-extension-converter .
Xcode Project Location: /Volumes/Samsung_T5/dev/GitHub/clickster
App Name: Clickster
App Bundle Identifier: com.yourCompany.Clickster
Language: Swift
Is this correct? [yes]: no
Xcode Project Location [/Volumes/Samsung_T5/dev/GitHub/clickster]: 
App Name [Clickster]: 
App Bundle Identifier [com.yourCompany.Clickster]: com.shortman.Clickster
1. Swift
2. Objective-C
Language [1]: 1


Then, Xcode automatically opens that project.

I ran the app with the default config for "My Mac".

The extension immediately encountered this error in the default guard in ViewController here

error
Code Block 
error	Error?	domain: "SFErrorDomain" - code: 1	0x0000600002706ca0


error was thrown on line 3
Code Block 
guard let state = state, error == nil else {
                // Insert code to inform the user that something went wrong.
                return // <- breaks here
            }

Safari Extensions
Up vote post of pkdavidstorm
Down vote post of pkdavidstorm
 606 views
Asked 1 year ago by pkdavidstorm
Share pkdavidstorm question
Answer this Question
Add a Comment
Accepted Answer
I was able to solve the problem by doing a clean install of macOS and Xcode. What a dumb as hell problem. No idea what the cause was.

I did try removing Xcode and relevant files/directories first, but that didn't help. Only the clean install of macOS seemed to do the trick.
Posted 1 year ago by pkdavidstorm
Share pkdavidstorm answer
 Up vote reply of pkdavidstorm
Down vote reply of pkdavidstorm
Post marked as solved
Add a Comment
Answers
I was able to solve the problem by doing a clean install of macOS and Xcode. What a dumb as hell problem. No idea what the cause was.

I did try removing Xcode and relevant files/directories first, but that didn't help. Only the clean install of macOS seemed to do the trick.
Posted 1 year ago by pkdavidstorm
Share pkdavidstorm answer
 Up vote reply of pkdavidstorm
Down vote reply of pkdavidstorm
Post marked as solved
Add a Comment
Don't need to reinstall of macOS and Xcode.

A solution for me
Code Block 
PATH=/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support:"$PATH"
lsregister -f /Applications/Safari.app

Posted 8 months ago by KyleYe
Share KyleYe answer
Post not yet marked as solvedUp vote reply of KyleYe
Down vote reply of KyleYe
Add a Comment
Your Answer

Headings
Basic Formatting







Add File, Text, or Image


 Live Preview
Submit
Developer Footer
This site contains user submitted content, comments and opinions and is for informational purposes only. Apple disclaims any and all liability for the acts, omissions and conduct of any third parties in connection with or related to your use of the site. All postings and use of the content on this site are subject to the Apple Developer Forums Participation Agreement.

Developer
Apple Developer Forums
Discover

macOS
iOS
watchOS
tvOS
Safari and Web
Games
Business
Education
WWDC
Design

Human Interface Guidelines
Resources
Videos
Apple Design Awards
Fonts
Accessibility
Internationalization
Accessories
Develop

Xcode
Swift
Swift Playgrounds
TestFlight
Documentation
Videos
Downloads
Distribute

Developer Program
App Store
App Review
Mac Software
Apps for Business
Safari Extensions
Marketing Resources
Trademark Licensing
Support

Articles
Developer Forums
Feedback & Bug Reporting
System Status
Contact Us
Account

Certificates, Identifiers & Profiles
App Store Connect
To view the latest developer news, visit
News and Updates
.
Copyright © 2021 Apple Inc. All rights reserved.Terms of Use Privacy Policy License Agreements
